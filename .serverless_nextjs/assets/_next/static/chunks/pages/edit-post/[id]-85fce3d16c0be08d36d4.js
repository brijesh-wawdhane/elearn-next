_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"7Ky4":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-post/[id]",function(){return n("IzYP")}])},E1HW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i}));var r="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      content\n      videoUrl\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        content\n        videoUrl\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",i="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        content\n        videoUrl\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},IzYP:function(t,e,n){"use strict";n.r(e);var r=n("nKUr"),o=n("rePB"),i=n("o0o1"),a=n.n(i),c=n("HaE+"),u=n("q1tI"),s=n("oDCQ"),l=n("20a2"),d=n("k20a"),p=n.n(d),f=(n("FQ0y"),n("sIIE")),b=n("E1HW");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(){var t=Object(u.useState)(null),e=t[0],n=t[1],i=Object(l.useRouter)(),d=i.query.id;if(Object(u.useEffect)((function(){function t(){return(t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.a.graphql({query:b.a,variables:{id:d}});case 4:e=t.sent,n(e.data.getPost);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[d]),!e)return null;function y(t){n((function(){return m(m({},e),{},Object(o.a)({},t.target.name,t.target.value))}))}var O=e.title,g=e.videoUrl,h=e.content;function j(){return(j=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O&&g&&h){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.a.graphql({query:f.c,variables:{input:{title:O,videoUrl:g,content:h,id:d}},authMode:"AMAZON_COGNITO_USER_POOLS"});case 4:console.log("post successfully updated!"),i.push("/my-posts");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"Edit post"}),Object(r.jsx)("input",{onChange:y,name:"title",placeholder:"Title",value:e.title,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),Object(r.jsx)("input",{onChange:y,name:"videoUrl",placeholder:"Video URL",value:e.videoUrl,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),Object(r.jsx)(p.a,{value:e.content,onChange:function(t){return n(m(m({},e),{},{content:t}))}}),Object(r.jsx)("button",{className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return j.apply(this,arguments)},children:"Update Post"})]})}}},[["7Ky4",1,2,3,12,0,4,6,8,9,11]]]);